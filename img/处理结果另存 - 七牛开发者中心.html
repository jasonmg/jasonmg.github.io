<!DOCTYPE html>
<!-- saved from url=(0067)https://developer.qiniu.com/dora/api/processing-results-save-saveas -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="OMaA0zb5Ii9SdHTmUOUFmDRdc6ttcbLpWBgIjbclQE+LBE6LJKDjK0wEEGt1ZlAbASDy0wIZE6aAVosQc8FEDQ==">
    
    <meta name="keywords" content="qiniu,developer">
    <meta name="description" content="developer">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="updated" content="2017-02-05 17:08:07 +0800">
    <meta name="version" content="5885840695403348a3b7b28d">
    <meta name="article_id" content="58749a1595403326a88719a0">
    <title>处理结果另存 - 七牛开发者中心</title>
    <link rel="icon" type="image/x-icon" href="https://developer.qiniu.com/favicon.ico">
    <link rel="stylesheet" type="text/css" href="./处理结果另存 - 七牛开发者中心_files/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./处理结果另存 - 七牛开发者中心_files/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./处理结果另存 - 七牛开发者中心_files/docco.min.css">

    <link rel="stylesheet" media="all" href="./处理结果另存 - 七牛开发者中心_files/application-92e267841a245fb0f7ff3e2d4f757623c80af9382a458f73aa6483a53ba5176a.css">
    <script async="" src="./处理结果另存 - 七牛开发者中心_files/analytics.js"></script><script type="text/javascript" async="" src="./处理结果另存 - 七牛开发者中心_files/vds.js"></script><script src="./处理结果另存 - 七牛开发者中心_files/application-72de41544f0c6375358526aa2ea7970e166c981100760bf233bbd3c62f117636.js"></script>

    <script type="text/javascript">
      var _vds = _vds || [];
      window._vds = _vds;
      (function(){
        _vds.push(['setAccountId', 'e10434e9266f49aabde60a116a0fd4af']);
        (function() {
          var vds = document.createElement('script');
          vds.type='text/javascript';
          vds.async = true;
          vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(vds, s);
        })();
      })();
    </script>
  </head>

  <body class="articles-page articles-page-show">
    <!--[if lt IE 10]>
      <p class="browsehappy">您正在使用 <strong>旧浏览器</strong> . 为了更好的体验，请 <a href="http://browsehappy.com/">更新</a> 您的浏览器.</p>
    <![endif]-->

    <nav class="navbar navbar-default navbar-fixed-top" id="navbar">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="sidebar-toggle" href="javascript:;"><i class="fa fa-bars"></i></a>
          <a class="navbar-brand" href="https://developer.qiniu.com/"><img width="50" src="./处理结果另存 - 七牛开发者中心_files/logo-white-b90d685a6b146884636382426d11b7236f5f7ca1c5dfafdb6fa777a0f976fc1f.png" alt="Logo white"><span>开发者中心</span></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown" id="spaces-dropdown">
              <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                产品与服务 <i class="fa fa-angle-down"></i>
              </a>
              <ul class="dropdown-menu space-dropdown-menu">
                <li class="kodo"><a href="https://developer.qiniu.com/kodo">对象存储</a></li>
                <li class="dora"><a href="https://developer.qiniu.com/dora">数据处理</a></li>
                <li class="fusion"><a href="https://developer.qiniu.com/fusion">融合 CDN</a></li>
                <li class="pili"><a href="https://developer.qiniu.com/pili">直播云</a></li>
              </ul>
            </li>
            <li class="mobile ">
              <a href="https://developer.qiniu.com/sdk">SDK</a>
            </li>
            <li class="mobile ">
              <a href="https://developer.qiniu.com/solutions/education">解决方案</a>
            </li>
            <!--
            <li class="">
              <a href="/faq">常见问题</a>
            </li>
            -->
            <li class="mobile"><a target="_blank" href="https://support.qiniu.com/">技术支持</a></li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li class="mobile ">
              <a href="https://developer.qiniu.com/sdk">SDK</a>
            </li>
            <li class="mobile ">
              <a href="https://developer.qiniu.com/solutions/education">解决方案</a>
            </li>
            <li class="mobile search-item">
              <a href="https://developer.qiniu.com/search">搜索</a>
            </li>
            <li class="mobile"><a target="_blank" href="https://support.qiniu.com/">技术支持</a></li>
            <li><a target="_blank" href="https://portal.qiniu.com/signin">登录</a></li>
            <li><a target="_blank" href="https://portal.qiniu.com/signup">注册</a></li>
          </ul>

          <div class="search-form nav navbar-nav navbar-right col-md-2 col-sm-2">
            <form action="https://developer.qiniu.com/search">
              <input type="text" name="keyword" class="form-control search-box" placeholder="搜索" tabindex="1">
              <i class="icon fa fa-search"></i>
            </form>
          </div>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <div class="topic-container" slug="processing-results-save-saveas" space="dora">
  <div class="topic-sidebar-wrap">

  <h3 class="space-title dora"><a href="https://developer.qiniu.com/dora">数据处理</a></h3>
  <div class="doctree">
    <ul>
        <li class="branch closed">
          <a class="node-title category" href="javascript:;">
            <span>使用文档</span>
            <i class="icon fa"></i>
          </a>
          <ol>
      <li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/manual/processing-mechanism"><span>处理机制</span><i class="icon fa"></i></a></li><li class="branch closed"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/manual/dora-customized-data-process"><span>自定义数据处理</span><i class="icon fa"></i></a><ol><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/quick-start"><span>快速入门</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/platform-user-guide"><span>平台用户指南</span><i class="icon fa"></i></a></li></ol></li><li class="branch closed"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/manual/introduction-to-the-third-party-data-processing"><span>第三方数据处理</span><i class="icon fa"></i></a><ol><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/image-as-a-yellow-services-stage"><span>阿塔科技图片鉴黄服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/image-as-a-yellow-services-deepirugc"><span>深图科技图片鉴黄服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/image-as-a-yellow-services-image-porn"><span>网易易盾图片鉴黄服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/image-as-a-yellow-services-nrop"><span>图普科技图片鉴黄服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/image-as-a-critical-could-service-terror"><span>图普科技图片鉴暴恐服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/a-larger-speed-browsing-service-sequickimage"><span>超擎大图极速浏览服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/short-video-jian-huang-services-tupu-video"><span>图普科技视频鉴黄服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/text-as-jian-zheng-huang-service"><span>达观数据文本鉴黄鉴政服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/text-anti-spam-service-ydtext"><span>网易易盾文本反垃圾服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/document-conversion-services-yifangyun-preview"><span>亿方云文档转换服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/advertising-filtering-service-enhanced-version-ad-plus"><span>图普科技广告过滤服务增强版</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/advertising-filtering-service-ad"><span>图普科技广告过滤服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/face-tailored-service"><span>Face++人脸裁剪服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/human-face-analysis-services-face-analyze"><span>阅面科技人脸分析服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/face-recognition-service-tusdk-face"><span>涂图人脸识别服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/garbage-text-recognition-service-smtextspam"><span>数美垃圾文本识别服务</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/manual/comment-spam-filtering-services-dg-spam-filter-v1"><span>达观数据垃圾评论过滤服务</span><i class="icon fa"></i></a></li></ol></li></ol></li></ul>
    <ul>
        <li class="branch">
          <a class="node-title category" href="javascript:;">
            <span>API Reference</span>
            <i class="icon fa"></i>
          </a>
          <ol>
      <li class="branch closed"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/image-processing-api"><span>图片处理 API</span><i class="icon fa"></i></a><ol><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/image-thin-body-imageslim"><span>图片瘦身</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/basic-processing-images-imageview2"><span>图片基本处理</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/the-advanced-treatment-of-images-imagemogr2"><span>图片高级处理</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/image-watermarking-processing-watermark"><span>图片水印处理</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/pictures-basic-information-imageinfo"><span>图片基本信息</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/photo-exif-information-exif"><span>图片EXIF信息</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/image-average-hue-imageave"><span>图片平均色调</span><i class="icon fa"></i></a></li></ol></li><li class="branch closed"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/audio-and-video-processing-api"><span>音视频处理 API</span><i class="icon fa"></i></a><ol><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/audio-and-video-transcoding-avthumb"><span>音视频转码</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/audio-and-video-slice"><span>音视频切片</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/video-watermarking"><span>视频水印</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/audio-and-video-stitching-avconcat"><span>音视频拼接</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/audio-and-video-metadata-information-avinfo"><span>音视频元信息</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/video-frame-thumbnails-vframe"><span>视频帧缩略图</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/video-sampling-thumbnails-vsample"><span>视频采样缩略图</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/real-time-audio-and-video-transcoding-avvod"><span>实时音视频转码</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/multiple-rate-adaptive-transcoding-adapt"><span>多码率自适应转码</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/private-m3u8-pm3u8"><span>私有M3U8</span><i class="icon fa"></i></a></li></ol></li><li class="leaf"><a class="node-title active  tree-level-1" href="https://developer.qiniu.com/dora/api/processing-results-save-saveas"><span>处理结果另存</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/file-hash-value-qhash"><span>文件HASH值</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/text-file-merging-concat"><span>文本文件合并</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/mkzip"><span>多文件压缩</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/md-html-md2html"><span>MD转HTML</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/resource-download-the-qr-code-qrcode"><span>资源下载二维码</span><i class="icon fa"></i></a></li><li class="branch closed"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/api/persist"><span>持久化处理</span><i class="icon fa"></i></a><ol><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/persistent-data-processing-pfop"><span>持久化数据处理</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-2" href="https://developer.qiniu.com/dora/api/persistent-processing-status-query-prefop"><span>持久化处理状态查询</span><i class="icon fa"></i></a></li></ol></li></ol></li></ul>
    
    <ul>
        <li class="branch closed">
          <a class="node-title category" href="javascript:;">
            <span>工具</span>
            <i class="icon fa"></i>
          </a>
          <ol>
      <li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/tools/qdoractl"><span>自定义数据处理命令行工具</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/tools/qufopctl-command-line-tools"><span>自定义数据处理命令行工具（待下线）</span><i class="icon fa"></i></a></li></ol></li></ul>
    <ul>
        <li class="branch closed">
          <a class="node-title category" href="javascript:;">
            <span>常见问题</span>
            <i class="icon fa"></i>
          </a>
          <ol>
      <li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/gif-to-mp4"><span>gif转mp4</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/streaming-media-queue-about-seven-cows"><span>关于七牛的流媒体队列</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/million-dafen-document-conversion"><span>亿方云文档转换</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/a-new-version-of-the-chrome-browser-does-not-support-incremental-display-problems"><span>新版本Chrome浏览器不支持渐进显示问题</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/video-meta-information-response-content-properties-and-instructions"><span>视频元信息响应内容的属性及说明</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/about-seven-cows-audio-video-transcoding-long-description"><span>关于七牛音视频转码时长的说明</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/image-processing-problems"><span>图片处理常见问题</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/on-demand-how-saveas-again-the-transcoding-of-video-format-mp4"><span>点播如何saveAs，再进行视频格式（mp4）的转码</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/how-to-only-smoke-from-the-audio-from-video-files"><span>如何从视频中只抽离出音频文件？</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/seven-cattle-on-demand-cloud-set-cname-analytical-method"><span>七牛点播云设置CNAME解析的方法</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/some-customers-mp4-problems-in-distributed-web-page"><span>部分mp4在网页播放器兼容问题</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/audio-and-video-transcoding-interface-operation-queue"><span>音视频转码界面化操作队列</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/avthumb-parameters-formats-format-and-explanation"><span>avthumb参数formats格式及解释</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/image-watermarking-is-not-centered-processing-method"><span>图片处理水印不居中显示处理方法</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/ufop-refresh-prefetching-query-demo-summary"><span>ufop、刷新预取查询demo汇总</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/flow-optimization-compression-of-images"><span>图片流量优化压缩策略</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/seven-cattle-audio-and-video-processing-technology"><span>七牛音视频处理技术</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/avthumb-parameter-acodec-format-and-explanation"><span>avthumb参数acodec格式及解释</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/about-seven-cows-multimedia-processing-section-of-the-default-format"><span>关于七牛多媒体处理预设格式的小节</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/image-as-a-yellow-service-interface-protocols"><span>图片鉴黄服务接口协议</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/the-charging-method-based-on-audio-and-video-transcoding-request"><span>音视频转码请求的计费方法</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/information-about-photo-exif-rotation-parameters-in-the-understanding-of-orientation"><span>关于图片 EXIF 信息中旋转参数 Orientation 的理解</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/audio-playback-technology-solutions"><span>音频播放技术方案</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/video-tutorials-pictures-style"><span>视频教程---图片样式</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/how-to-know-whether-the-thumbnail-has-been-successfully-generated"><span>如何知道缩略图是否已经成功生成</span><i class="icon fa"></i></a></li><li class="leaf"><a class="node-title   tree-level-1" href="https://developer.qiniu.com/dora/kb/image-and-video-text-watermarking-support-font-list"><span>图片和视频文字水印支持字体列表</span><i class="icon fa"></i></a></li></ol></li></ul>
    
  </div>
</div>

  <div class="topic-content-wrap">
    <div class="container">
      <div class="article-content">
        <div class="topic-title">
          <div class="rating-right">
            <div class="rating">
              <li index="1" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="根本没有帮助"><i class="fa fa-star-o"></i></li>
              <li index="2" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档较差"><i class="fa fa-star-o"></i></li>
              <li index="3" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档一般"><i class="fa fa-star-o"></i></li>
              <li index="4" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档不错"><i class="fa fa-star-o"></i></li>
              <li index="5" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档很好"><i class="fa fa-star-o"></i></li>
            </div>
          </div>
          <h1>            <span>处理结果另存</span>            </h1>
          <p class="topic-meta">admin 更新时间：2017-01-23 12:18:14</p>
        </div>

        <div class="topic-detail">
          <p>七牛云的数据处理 API 接口均支持如下串行处理规格：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="&lt;DownloadUrl&gt;?&lt;fop1&gt;|&lt;fop2&gt;|&lt;fop3&gt;|&lt;fopN&gt;
">拷贝</button></div><code class="hljs xml"><ol start="1"><li><span class="hljs-tag">&lt;<span class="hljs-name">DownloadUrl</span>&gt;</span>?<span class="hljs-tag">&lt;<span class="hljs-name">fop1</span>&gt;</span>|<span class="hljs-tag">&lt;<span class="hljs-name">fop2</span>&gt;</span>|<span class="hljs-tag">&lt;<span class="hljs-name">fop3</span>&gt;</span>|<span class="hljs-tag">&lt;<span class="hljs-name">fopN</span>&gt;</span></li></ol></code></pre>

<p>可以看到每一步的输出都是下一步的输入，而最后一步的输出即为最终下载到的资源内容。每调用一次这类串行化接口，就必须实时地按序执行所有接口，有可能引起不必要的计算耗时。</p>

<p>我们提供名为 saveas 的数据处理操作，将处理结果作为资源保存到指定空间内，并赋以指定 Key。保存成功后，下一次可直接通过指定 Key 来访问该资源，以达到提升下载速度的效果。</p>

<p><a id="saveas-specification" target="_blank"></a></p>

<h1 id="1" class="anchor-target">接口规格</h1>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="saveas/&lt;EncodedEntryURI&gt;/sign/&lt;Sign&gt;
">拷贝</button></div><code class="hljs xml"><ol start="1"><li>saveas/<span class="hljs-tag">&lt;<span class="hljs-name">EncodedEntryURI</span>&gt;</span>/sign/<span class="hljs-tag">&lt;<span class="hljs-name">Sign</span>&gt;</span></li></ol></code></pre>

<table>
<thead>
<tr>
<th align="left">参数名称</th>
<th align="left">必填</th>
<th align="left">类型</th>
<th align="left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><code>&lt;EncodedEntryURI&gt;</code></td>
<td align="left">是</td>
<td align="left">string</td>
<td align="left">以<a href="https://developer.qiniu.com/kodo/api/data-format" target="_blank">EncodedEntryURI格式</a>组织的目标 Bucket 与 Key</td>
</tr>

<tr>
<td align="left"><code>/sign/&lt;Sign&gt;</code></td>
<td align="left">是</td>
<td align="left">string</td>
<td align="left">请求签名部分，算法见下方，在 pfop 操作中不用指定该参数</td>
</tr>
</tbody>
</table>

<p><a id="saveas-sign-algorithm" target="_blank"></a></p>

<h1 id="2" class="anchor-target">签名算法</h1>

<p><strong>1.</strong> 在下载 URL（不含 Scheme 部分，即去除 http : //）后附加 <a href="https://developer.qiniu.com/dora/api/processing-results-save-saveas" target="_blank">saveas</a> 接口（不含签名部分）：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="NewURL = URL + &quot;|saveas/&lt;EncodedEntryURI&gt;&quot;
">拷贝</button></div><code class="hljs ini"><ol start="1"><li><span class="hljs-attr">NewURL</span> = URL + <span class="hljs-string">"|saveas/&lt;EncodedEntryURI&gt;"</span></li></ol></code></pre>

<p><strong>2.</strong> 使用 SecretKey 对新的下载 URL 进行<a href="https://developer.qiniu.com/kodo/glossary/h" target="_blank">HMAC1-SHA1</a>签名：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="Sign = hmac_sha1(SecretKey, NewURL)
">拷贝</button></div><code class="hljs ini"><ol start="1"><li><span class="hljs-attr">Sign</span> = hmac_sha1(SecretKey, NewURL)</li></ol></code></pre>

<p><strong>3.</strong> 对签名进行<a href="https://developer.qiniu.com/kodo/manual/appendix#urlsafe-base64" target="_blank">URL安全的Base64编码</a>：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="EncodedSign = urlsafe_base64_encode(Sign)
">拷贝</button></div><code class="hljs ini"><ol start="1"><li><span class="hljs-attr">EncodedSign</span> = urlsafe_base64_encode(Sign)</li></ol></code></pre>

<p><strong>4.</strong> 在新的下载 URL 后拼接签名参数：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="FinalURL = NewURL + &quot;/sign/&lt;AccessKey&gt;:&lt;EncodedSign&gt;&quot;
">拷贝</button></div><code class="hljs ini"><ol start="1"><li><span class="hljs-attr">FinalURL</span> = NewURL + <span class="hljs-string">"/sign/&lt;AccessKey&gt;:&lt;EncodedSign&gt;"</span></li></ol></code></pre>

<h3>算法示例</h3>

<p>生成 saveas 请求的完整 Go 代码如下：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="func makeSaveasUrl(URL, accessKey string, secretKey []byte, saveBucket, saveKey string) string {

      encodedEntryURI := base64.URLEncoding.EncodeToString([]byte(saveBucket+&quot;:&quot;+saveKey))

      URL += &quot;|saveas/&quot; + encodedEntryURI

      h := hmac.New(sha1.New, secretKey)

      // 签名内容不包括Scheme，仅含如下部分：
    // &lt;Domain&gt;/&lt;Path&gt;?&lt;Query&gt;

      u, _ := url.Parse(URL)
      io.WriteString(h, u.Host + u.RequestURI())

      d := h.Sum(nil)
      sign := accessKey + &quot;:&quot; + base64.URLEncoding.EncodeToString(d)

      return URL + &quot;/sign/&quot; + sign

}
">拷贝</button></div><code class="language-go hljs"><ol start="1"><li><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeSaveasUrl</span><span class="hljs-params">(URL, accessKey <span class="hljs-keyword">string</span>, secretKey []<span class="hljs-keyword">byte</span>, saveBucket, saveKey <span class="hljs-keyword">string</span>)</span> <span class="hljs-title">string</span></span> {</li><li></li><li>      encodedEntryURI := base64.URLEncoding.EncodeToString([]<span class="hljs-keyword">byte</span>(saveBucket+<span class="hljs-string">":"</span>+saveKey))</li><li></li><li>      URL += <span class="hljs-string">"|saveas/"</span> + encodedEntryURI</li><li></li><li>      h := hmac.New(sha1.New, secretKey)</li><li></li><li>      <span class="hljs-comment">// 签名内容不包括Scheme，仅含如下部分：</span></li><li>    <span class="hljs-comment">// &lt;Domain&gt;/&lt;Path&gt;?&lt;Query&gt;</span></li><li></li><li>      u, _ := url.Parse(URL)</li><li>      io.WriteString(h, u.Host + u.RequestURI())</li><li></li><li>      d := h.Sum(<span class="hljs-literal">nil</span>)</li><li>      sign := accessKey + <span class="hljs-string">":"</span> + base64.URLEncoding.EncodeToString(d)</li><li></li><li>      <span class="hljs-keyword">return</span> URL + <span class="hljs-string">"/sign/"</span> + sign</li><li></li><li>}</li></ol></code></pre>

<p><a id="saveas-instructions" target="_blank"></a></p>

<h1 id="3" class="anchor-target">说明</h1>

<ul>
<li>urlsafe_base64_encode() 函数按照标准的<a href="http://www.ietf.org/rfc/rfc4648.txt" target="_blank">RFC 4648</a>实现，开发者可以参考<a href="https://github.com/qiniu" target="_blank">github.com/qiniu</a>上各 SDK 的样例代码。</li>
<li>此处签名内容不包含 Scheme 部分，与 DownloadToken 签名不一样。</li>
<li>当持久化保存的 fop 耗时较长的时候，saveas 请求会返回 CDN 超时，但是只要保证发送的 saveas 请求合法，七牛服务器还是会对请求做正确处理。</li>
<li>大多数使用场景下，建议使用<a href="https://developer.qiniu.com/dora/api/persistent-data-processing-pfop" target="_blank">持久化数据处理</a>接口来实现处理结果持久存储，避免使用同步操作的 saveas 接口，提升访问速度。</li>
<li>c# http 库发送请求的时候会把 | 转成 %7c，由于签名签的是 | ，导致报 400 错误。可以在发送请求的时候，把 url 中的 | 改为 %7c，或者签名的时候签 %7c。</li>
</ul>

<p><a id="saveas-samples" target="_blank"></a></p>

<h1 id="4" class="anchor-target">示例</h1>

<p><strong>1.</strong> 原资源是一个名为 resource/Ship.jpg 的图片：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="http://78re52.com1.z0.glb.clouddn.com/resource/Ship.jpg
">拷贝</button></div><code class="hljs cpp"><ol start="1"><li>http:<span class="hljs-comment">//78re52.com1.z0.glb.clouddn.com/resource/Ship.jpg</span></li></ol></code></pre>

<p><strong>2.</strong> 将图片做缩略处理：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="http://78re52.com1.z0.glb.clouddn.com/resource/Ship.jpg?imageView2/2/w/200/h/200
">拷贝</button></div><code class="hljs ruby"><ol start="1"><li><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/78re52.com1.z0.glb.clouddn.com/resource</span><span class="hljs-regexp">/Ship.jpg?imageView2/</span><span class="hljs-number">2</span>/w/<span class="hljs-number">200</span>/h/<span class="hljs-number">200</span></li></ol></code></pre>

<p><strong>3.</strong> 对上述云处理结果进行持久化保存：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="#另存操作的目标空间与资源名
entryURI = &quot;qiniu-developer:Ship-thumb-200.jpg&quot;

#编码结果
encodedEntryURI = &quot;cWluaXUtZGV2ZWxvcGVyOlNoaXAtdGh1bWItMjAwLmpwZw==&quot;

#需要签名的部分
signingStr = &quot;78re52.com1.z0.glb.clouddn.com/resource/Ship.jpg?imageView2/2/w/200/h/200|saveas/cWluaXUtZGV2ZWxvcGVyOlNoaXAtdGh1bWItMjAwLmpwZw==&quot;

#签名结果
sign = &quot;bcgojLbLKTsTlhm3XFMYq0cn3lW2G3NAuJYXZDDf:jGo09Pmq5vyG4c-rRb4qF3_dH1g=&quot;
">拷贝</button></div><code class="hljs ini"><ol start="1"><li><span class="hljs-comment">#另存操作的目标空间与资源名</span></li><li><span class="hljs-attr">entryURI</span> = <span class="hljs-string">"qiniu-developer:Ship-thumb-200.jpg"</span></li><li></li><li><span class="hljs-comment">#编码结果</span></li><li><span class="hljs-attr">encodedEntryURI</span> = <span class="hljs-string">"cWluaXUtZGV2ZWxvcGVyOlNoaXAtdGh1bWItMjAwLmpwZw=="</span></li><li></li><li><span class="hljs-comment">#需要签名的部分</span></li><li><span class="hljs-attr">signingStr</span> = <span class="hljs-string">"78re52.com1.z0.glb.clouddn.com/resource/Ship.jpg?imageView2/2/w/200/h/200|saveas/cWluaXUtZGV2ZWxvcGVyOlNoaXAtdGh1bWItMjAwLmpwZw=="</span></li><li></li><li><span class="hljs-comment">#签名结果</span></li><li><span class="hljs-attr">sign</span> = <span class="hljs-string">"bcgojLbLKTsTlhm3XFMYq0cn3lW2G3NAuJYXZDDf:jGo09Pmq5vyG4c-rRb4qF3_dH1g="</span></li></ol></code></pre>

<p><strong>4.</strong> 最终得到的完整下载 URL：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="http://78re52.com1.z0.glb.clouddn.com/resource/Ship.jpg?imageView2/2/w/200/h/200|saveas/cWluaXUtZGV2ZWxvcGVyOlNoaXAtdGh1bWItMjAwLmpwZw==/sign/bcgojLbLKTsTlhm3XFMYq0cn3lW2G3NAuJYXZDDf:jGo09Pmq5vyG4c-rRb4qF3_dH1g=
">拷贝</button></div><code class="hljs ruby"><ol start="1"><li><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/78re52.com1.z0.glb.clouddn.com/resource</span><span class="hljs-regexp">/Ship.jpg?imageView2/</span><span class="hljs-number">2</span>/w/<span class="hljs-number">200</span>/h/<span class="hljs-number">200</span><span class="hljs-params">|saveas/cWluaXUtZGV2ZWxvcGVyOlNoaXAtdGh1bWItMjAwLmpwZw==/sign/bcgojLbLKTsTlhm3XFMYq0cn3lW2G3NAuJYXZDDf:jGo09Pmq5vyG4c-rRb4qF3_dH1g=</span></li><li></li></ol></code></pre>

<p><strong>5.</strong> 保存转码后资源可通过如下 URL 访问：</p>

<pre><div class="tools"><button title="" class="btn copybtn" data-toggle="tooltip" data-placement="top" container="body" data-original-title="拷贝代码" data-clipboard-text="http://78re52.com1.z0.glb.clouddn.com/Ship-thumb-200.jpg
">拷贝</button></div><code class="hljs cpp"><ol start="1"><li>http:<span class="hljs-comment">//78re52.com1.z0.glb.clouddn.com/Ship-thumb-200.jpg</span></li></ol></code></pre>

        </div>
        <div class="rating-bottom">
          <span>以上内容是否对您有帮助？</span>
          <div class="rating">
            <li index="1" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="根本没有帮助"><i class="fa fa-star-o"></i></li>
            <li index="2" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档较差"><i class="fa fa-star-o"></i></li>
            <li index="3" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档一般"><i class="fa fa-star-o"></i></li>
            <li index="4" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档不错"><i class="fa fa-star-o"></i></li>
            <li index="5" data-toggle="tooltip" data-placement="top" container="body" title="" data-original-title="文档很好"><i class="fa fa-star-o"></i></li>
          </div>
        </div>
        <div class="feedback">
          <div class="header">反馈</div>
          <div class="body">
            <div id="feedbackform">
              <div>
                <input type="email" id="creator" placeholder="请输入邮箱" required="">
                <span class="err-info"></span>
              </div>
              <div>
                <textarea rows="3" placeholder="请留下你宝贵的意见" id="content" required=""></textarea>
              </div>
              <div>
                <button class="btn btn-primary" disabled="">提交</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    <nav class="nav-anchor nav-anchor-right" style="left: 1257.5px;"><ul><li><a href="https://developer.qiniu.com/dora/api/processing-results-save-saveas#1">接口规格</a></li><li><a href="https://developer.qiniu.com/dora/api/processing-results-save-saveas#2">签名算法</a></li><li><a href="https://developer.qiniu.com/dora/api/processing-results-save-saveas#3">说明</a></li><li><a href="https://developer.qiniu.com/dora/api/processing-results-save-saveas#4">示例</a></li></ul></nav></div>
  </div>
</div>

    <a id="support-tab" href="https://support.qiniu.com/tickets/new" target="_blank">
      <span>提交工单</span>
    </a>
    <a id="goTopBtn" class="hidden">
      <span>回到顶部</span>
    </a>
    <footer>
      <div class="container">
        <div class="row links">
          <div class="col-md-2">
            <div class="copyright">© 2017 七牛云</div>
          </div>
          <div class="col-md-10">
            <ul class="qiniu-sites list-unstyled">
              <li><a href="http://www.qiniu.com/" target="_blank">七牛官网</a></li>
              <li><a href="https://portal.qiniu.com/" target="_blank">开发者平台</a></li>
              <li><a href="https://segmentfault.com/qiniu" target="_blank">问答社区</a></li>
              <li><a href="https://support.qiniu.com/" target="_blank">技术支持</a></li>
              <li><a href="https://developer.qiniu.com/brand">七牛标识</a></li>
            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-md-8">沪公网安备 31011502000961 号沪 ICP 备 11037377 号-5</div>

          <div class="col-md-4">
            <div class="social-follow">
              <ul class="social-links list-unstyled">
                <li><a href="https://github.com/qiniu" target="_blank"><i class="fa fa-lg fa-github-alt"></i></a></li>
                <li><a href="http://e.weibo.com/qiniutek" target="_blank"><i class="fa fa-lg fa-weibo"></i></a></li>
                <li class="social-weixin-qrcode">
                  <a href="javascript:;"><i class="fa fa-lg fa-weixin"></i></a>
                  <div class="popover fade top in" id="wexin-qrcode-popover" style="display: none;">
                    <div class="arrow"></div>
                    <div class="popover-content"><img width="140" src="./处理结果另存 - 七牛开发者中心_files/weixin-qrcode-e4ddfa8a1a16b96c60e4b671b676dfd168ab4f91b5a700a755dde294347fc0f0.png" alt="Weixin qrcode"></div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script type="text/javascript" src="./处理结果另存 - 七牛开发者中心_files/jquery.min.js"></script>
    <script type="text/javascript" src="./处理结果另存 - 七牛开发者中心_files/bootstrap.min.js"></script>
    <script type="text/javascript" src="./处理结果另存 - 七牛开发者中心_files/highlight.min.js"></script>
    <script type="text/javascript" src="./处理结果另存 - 七牛开发者中心_files/go.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-91376707-1', 'auto');
      ga('send', 'pageview');

    </script>
  

</body></html>